<!doctype html>
<html lang="en-us">
  <head>
    <title>电信机房参观 // Shell&#39;s Home</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Shell Xu" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.3c3c186cd62e563ad6e2f00a89dbee656ab912d1d46f856b5605dd0232521e2a.css" />

    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WH8XZZ4WLY"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-WH8XZZ4WLY');
        }
      </script>
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="电信机房参观">
  <meta name="twitter:description" content="今天偶跑到上海电信机房去参观了，看里面的机器感觉真是爽阿。很多都是品牌机，拼装机都看着非常专业。绝对不是我们公司里面那种破烂机器能比的上的。问代理商，代理商说这是电信的1G光纤分流到户，每个机柜100M带宽，20个机器去分，每个用户不限制流量。因为我们用的那个机柜都是小流量的机器，所以保证我们10M没有问题。如果以后流量太大，也可以换一个接入，用专用的100M口。
偶们在公司里面估算过，假定一个页面调入，不计算图片等媒体，需要50K的网络数据传输。（这也是公司一般页面设计的大小）调入非媒体的时间假定在五秒不会让用户感觉到慢。这样一个用户连接就需要保持10K的带宽。10个用户就是100K，换成bps就是大约合0.8Mbps。图片一般都是静态的，所以只要跑一次，后面IE会自动看缓存。所以每次会耗用KeepAlive的Session大约250字节的数据，基本可以忽略。只是如果带宽空余点首次跑图片的时候比较快，如果不空就比较慢。到后面访问几乎没有差异。
按照供应商的数据，我们有可以至少支持125个页面并发。假定平均一个用户同时开启的页面是两个（有的人开新窗口来用的，还有部分是我们需要弹出或者页面内引用页面），那么就是支持60个用户并发左右，貌似够了。因为60个用户并发，假定每个用户等待加操作需要10秒/页面，而读取的速度是5秒/页面。那样峰值用户数就是120人。平均来说可以支撑最少1000个用户。
问题在于问题在于，杨总设计的业务流程中大量的使用了内嵌的office文件。经常要上传下载office文件。那么我们要把这部分的流量抽离开来使用。一个office文件平均100K，而用户静态数据区大小是100M。按照单次使用不超过总容量1/10的原则来计算，一次用户操作的最大空间就是10M合100个office文件。实际到是没有这么多，一般是5个上下。这样算来，用户需要在五分钟内上下传500K的额外数据。运气好的话只有两个的客户在做这个东西，那么就是6Mbps的速度要求！
我们在假定了两个客户同步做上下传的前提下，还得到这种惨淡的结果。要我们支撑120个同步用户至少需要20Mbps以上带宽。不知道这个系统在后面还怎么经营下去……
算了，那个也不关我事，至少目前不关。到是服务商的收费理由让我感到很有趣。他说他收费贵是因为机房建立的比较好。电池是专门的在线UPS，大楼有备用的发电设备，灭火器是干粉的，大厦是抗震的，所以比较贵点。这些理由怎么样不说啦，至少让我开了眼界……
回来的时候碰到件妖怪的事情。我不知道怎么回去，正好和陈工的981顺路，所以一起回去。结果车等了很久，上去人很多。开了没多久，发现熄火。司机关掉机器再开，启动不了。然后狂踩离合器，汽车居然跑的动了。虽然速度奇慢，不过让我觉得很神奇……">

    <meta property="og:url" content="//blog.shell909090.org/blog/archives/268/">
  <meta property="og:site_name" content="Shell&#39;s Home">
  <meta property="og:title" content="电信机房参观">
  <meta property="og:description" content="今天偶跑到上海电信机房去参观了，看里面的机器感觉真是爽阿。很多都是品牌机，拼装机都看着非常专业。绝对不是我们公司里面那种破烂机器能比的上的。问代理商，代理商说这是电信的1G光纤分流到户，每个机柜100M带宽，20个机器去分，每个用户不限制流量。因为我们用的那个机柜都是小流量的机器，所以保证我们10M没有问题。如果以后流量太大，也可以换一个接入，用专用的100M口。
偶们在公司里面估算过，假定一个页面调入，不计算图片等媒体，需要50K的网络数据传输。（这也是公司一般页面设计的大小）调入非媒体的时间假定在五秒不会让用户感觉到慢。这样一个用户连接就需要保持10K的带宽。10个用户就是100K，换成bps就是大约合0.8Mbps。图片一般都是静态的，所以只要跑一次，后面IE会自动看缓存。所以每次会耗用KeepAlive的Session大约250字节的数据，基本可以忽略。只是如果带宽空余点首次跑图片的时候比较快，如果不空就比较慢。到后面访问几乎没有差异。
按照供应商的数据，我们有可以至少支持125个页面并发。假定平均一个用户同时开启的页面是两个（有的人开新窗口来用的，还有部分是我们需要弹出或者页面内引用页面），那么就是支持60个用户并发左右，貌似够了。因为60个用户并发，假定每个用户等待加操作需要10秒/页面，而读取的速度是5秒/页面。那样峰值用户数就是120人。平均来说可以支撑最少1000个用户。
问题在于问题在于，杨总设计的业务流程中大量的使用了内嵌的office文件。经常要上传下载office文件。那么我们要把这部分的流量抽离开来使用。一个office文件平均100K，而用户静态数据区大小是100M。按照单次使用不超过总容量1/10的原则来计算，一次用户操作的最大空间就是10M合100个office文件。实际到是没有这么多，一般是5个上下。这样算来，用户需要在五分钟内上下传500K的额外数据。运气好的话只有两个的客户在做这个东西，那么就是6Mbps的速度要求！
我们在假定了两个客户同步做上下传的前提下，还得到这种惨淡的结果。要我们支撑120个同步用户至少需要20Mbps以上带宽。不知道这个系统在后面还怎么经营下去……
算了，那个也不关我事，至少目前不关。到是服务商的收费理由让我感到很有趣。他说他收费贵是因为机房建立的比较好。电池是专门的在线UPS，大楼有备用的发电设备，灭火器是干粉的，大厦是抗震的，所以比较贵点。这些理由怎么样不说啦，至少让我开了眼界……
回来的时候碰到件妖怪的事情。我不知道怎么回去，正好和陈工的981顺路，所以一起回去。结果车等了很久，上去人很多。开了没多久，发现熄火。司机关掉机器再开，启动不了。然后狂踩离合器，汽车居然跑的动了。虽然速度奇慢，不过让我觉得很神奇……">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2005-11-30T04:12:43+08:00">
    <meta property="article:modified_time" content="2005-11-30T04:12:43+08:00">
    <meta property="article:tag" content="Business">
    <meta property="article:tag" content="Computer">


  </head>
  <body>
    <header class="app-header">
      <a href="//blog.shell909090.org/"><img class="app-header-avatar" src="/avatar.jpg" alt="Shell Xu" /></a>
      <span class="app-header-title">Shell&#39;s Home</span>
      <p>贝壳的壳</p>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">电信机房参观</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Nov 30, 2005
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          1 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="//blog.shell909090.org/tags/business/">Business</a>
              <a class="tag" href="//blog.shell909090.org/tags/computer/">Computer</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>今天偶跑到上海电信机房去参观了，看里面的机器感觉真是爽阿。很多都是品牌机，拼装机都看着非常专业。绝对不是我们公司里面那种破烂机器能比的上的。问代理商，代理商说这是电信的1G光纤分流到户，每个机柜100M带宽，20个机器去分，每个用户不限制流量。因为我们用的那个机柜都是小流量的机器，所以保证我们10M没有问题。如果以后流量太大，也可以换一个接入，用专用的100M口。</p>
<p>偶们在公司里面估算过，假定一个页面调入，不计算图片等媒体，需要50K的网络数据传输。（这也是公司一般页面设计的大小）调入非媒体的时间假定在五秒不会让用户感觉到慢。这样一个用户连接就需要保持10K的带宽。10个用户就是100K，换成bps就是大约合0.8Mbps。图片一般都是静态的，所以只要跑一次，后面IE会自动看缓存。所以每次会耗用KeepAlive的Session大约250字节的数据，基本可以忽略。只是如果带宽空余点首次跑图片的时候比较快，如果不空就比较慢。到后面访问几乎没有差异。</p>
<p>按照供应商的数据，我们有可以至少支持125个页面并发。假定平均一个用户同时开启的页面是两个（有的人开新窗口来用的，还有部分是我们需要弹出或者页面内引用页面），那么就是支持60个用户并发左右，貌似够了。因为60个用户并发，假定每个用户等待加操作需要10秒/页面，而读取的速度是5秒/页面。那样峰值用户数就是120人。平均来说可以支撑最少1000个用户。</p>
<p>问题在于问题在于，杨总设计的业务流程中大量的使用了内嵌的office文件。经常要上传下载office文件。那么我们要把这部分的流量抽离开来使用。一个office文件平均100K，而用户静态数据区大小是100M。按照单次使用不超过总容量1/10的原则来计算，一次用户操作的最大空间就是10M合100个office文件。实际到是没有这么多，一般是5个上下。这样算来，用户需要在五分钟内上下传500K的额外数据。运气好的话只有两个的客户在做这个东西，那么就是6Mbps的速度要求！</p>
<p>我们在假定了两个客户同步做上下传的前提下，还得到这种惨淡的结果。要我们支撑120个同步用户至少需要20Mbps以上带宽。不知道这个系统在后面还怎么经营下去……</p>
<p>算了，那个也不关我事，至少目前不关。到是服务商的收费理由让我感到很有趣。他说他收费贵是因为机房建立的比较好。电池是专门的在线UPS，大楼有备用的发电设备，灭火器是干粉的，大厦是抗震的，所以比较贵点。这些理由怎么样不说啦，至少让我开了眼界……</p>
<p>回来的时候碰到件妖怪的事情。我不知道怎么回去，正好和陈工的981顺路，所以一起回去。结果车等了很久，上去人很多。开了没多久，发现熄火。司机关掉机器再开，启动不了。然后狂踩离合器，汽车居然跑的动了。虽然速度奇慢，不过让我觉得很神奇……</p>

    </div>
    <div class="post-footer">
    </div>
  </article>

    </main>
  </body>
</html>
