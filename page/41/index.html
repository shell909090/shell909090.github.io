<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
  
  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  

  
  <title>Shell&#39;s Home</title>

  
  
  <link rel="stylesheet" href="//blog.shell909090.org/css/hugo-octopress.css">

  
  

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

  
  <link href="//blog.shell909090.org/favicon.png" rel="icon">

  
  
  

  <link href="//blog.shell909090.org/index.xml" rel="alternate" type="application/rss+xml" title="Shell&#39;s Home" />

  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="Shell Xu">

  
  <meta name="generator" content="Hugo 0.30-DEV" />

  
  
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-48816091-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="//blog.shell909090.org/">Shell&#39;s Home</a></h1>
    <h2></h2>
</hgroup></header>


<nav role="navigation">

<ul class="main-navigation">
  
  
</ul>


<ul class="subscription">
  

</ul>


</nav>


<div id="main">
 <div id="content">
  <div class="blog-index">
    
    
    <article>

        
        

<header>
    <p class="meta">Jun 7, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1822/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1822/">版权的态度</a>
    </h1>
</header>


        
          <p>如果你读过RMS的书，你会发现这位老先生对版权的态度很有意思，他压根不认为copy这个东西居然还有right。copy要是有right的话，数学公式应该有right么？你那里算火箭弹道呢，有一张传票发过来，说牛顿的后裔发现你在用牛顿法求根公式求解方程，要求你支付权利金。你觉得不觉得很崩溃？就是因为数学公式是人类进步的基石，所以我们不允许任何人声明对它拥有权利，也不允许任何人阻断他人学习和使用数学公式。
然而如果数学公式没有权利的话，软件有权利就是一件很扯淡的事情。例如，你解决了一个数学问题，能够以最小代价将字符序列中的无效信息压缩到最小。然后，有人针对这个算法写了一个文本压缩程序。由于你的解是数学最优的，就是说，根据你的论文写出来的程序，如果没有什么大的实现瑕疵的话，压缩率和压缩速度是最高的，没有之一。所以，写程序那个家伙就申请了一个专利，天天收入不菲花天酒地。然而，你，这个论文作者，居然TMD还在吃糠咽菜。
当然，这个例子本身太过特殊，数学家一般也有过得去的计算机水准，所以针对算法写程序的人多数是数学家本人或者合作伙伴。但是这种问题不时刺激人们，对于我们最重要的东西，我们不能设置权限。然而我们却允许做出不重要发明的人享受特权，和特权带来的利益。所以RMS为代表的一小撮人，主要是老嬉皮士，强烈的反对版权。作为代表，他们搞出了GPL——反对版权的版权。你要基于使用GPL的代码写程序，好，你就必须放弃你的版权，同意GPL。
甚至，他们更激进的认为，不应当阻碍人类获得知识的渠道，知识是人类所共有的。所谓共有，是指，任何人都可以自行获得和学习知识，而不应当为此付出代价，例如金钱。当你上学时，你是为教师付钱，而不是为你学到的知识付钱。而且，当你想学，你就应当可以学到，而不是被禁止学习。因此，美国禁止向海外出售高强度加密软件的事情，在他们看来是邪恶的。将知识垄断，阻碍他人学习，他们看来是邪恶的。甚至你自己用来开发的机器上，设定个密码禁止其他人浏览你的代码，他们也认为是邪恶的。
这种观点当然很不讨好，甚至从他们的运动中获益的一些人——包括中国，都不欢迎他们的想法。我研究获得的知识，却无法用来牟利？劳有所得，这在很多人眼中是天经地义的，因此RMS等人的思想才显得那么格格不入。然而不可否认，RMS等人并不能算是扯大旗为自己牟利的伪君子或者邪恶教主，他们是真的信仰这种人类大同的观点。RMS年近50，无车无房，未婚，孑然一身，到处宣传自己的GNU思想。他自称自己连电脑都没有，不过出名的唯一好处是，现在他很容易借到一台电脑来收邮件。
国外的情况而言，是版权发展过剩。就是说版权现在已经成了大公司跑马圈地的法律武器。而国内的情况，则是版权发展不足。国内的人说认同版权观点，但是却仍旧使用盗版的winrar。而反对版权观点，也不是因为他是个嬉皮士，同意不应当阻碍人类获得信息和学习知识。纯粹是懒得付钱而已。</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Jun 2, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1821/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1821/">如何参与一个开源项目</a>
    </h1>
</header>


        
          <p>最近很多人在问如何参与一个开源项目。其实个人觉得这是一个非常傻的问题，不过还是回答一下，期望这帮人记得用google搜到这个角落，免去论坛上月经一样的天天看到这种傻问题。
为什么说傻？因为这个问题和“如何捐钱”一样，是个没法直接回答的问题。你总要有一个明确的捐献目标，或者是明确的目标项目。世界上没有一个组织，名叫“开源软件”。无论你的目标是什么，你必须找到一个确定的开源项目进行参与。
在哪里能够找到开源项目？这很不好说。一方面，你可以在sf.net(需要翻墙)和code.google.com(最好翻墙)找到相当多的开源项目，也可以在github之类的地方寻找。另一方面，你也可以在debian里面找。很多包里面附带了项目的主页，如果你觉得这个包很不错，希望做贡献，可以按照链接找过去。
如何挑选合适的开源项目？首先要和你的兴趣相符合，或者能够满足你参与开源的目标。例如你对算法非常感兴趣，让你加入一个ERP系统的定制，成天修正繁琐的业务问题，可能就会让你觉得兴趣全无。其次最好参与一些中等复杂程度，具有活力的，比较缺人的项目。像linux kernel这种规模巨大，参与人员众多的项目，本身就是一个非常巨大的工程。你要了解这个工程需要很长时间，但是大部分你觉得有价值的事情都已经有人在做了。
如何开始？具体可以先给项目管理者发一封邮件，说明自己的目标，兴趣，能力，时间，然后问问他们是否需要自己的贡献。
大多数项目最缺的人才，不是程序员。通常一个开源项目，有几个程序员在做是不成问题的。但是大部分的开源项目缺乏一些周边人员，例如到各个组织中推广项目，获得反馈。和各种dist和开源平台协调，负责收集bug，控制项目发行，进行打包。负责项目的测试和文档工作，以及英文文档的翻译工作。这些工作并不需要专业知识，但是琐碎而且费时，程序员并不大乐意做。而且控制项目的release，还有进行协调要有一定的经验，也不是程序员擅长的领域。所以相当多的开源项目，就是程序员拍脑袋写，然后用户两眼一摸黑的用。没有合适的文档，没有各种系统的适用包，没有bug和用户意见反馈。
因此贝壳也请求，所有看到文章，且有志于贡献自己的力量的人，都可以考虑参与开源项目。你不需要会写程序，也不需要精通电脑。你需要做的可能就是将文档从英文翻译成中文，或者不断使用一个软件并找出其中不合理的地方。在中国，捐献金钱是容易的，但是却不透明，也不自由。你不确定你的金钱捐献给谁，他收到多少，是否真的需要。然而如果你选择某个开源软件做捐献，你可以选择自己为谁做出贡献，也会受到全体开源软件用户的感激。</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">Jun 1, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1819/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1819/">HR该干吗</a>
    </h1>
</header>


        
          <p>这个帖子（http://www.douban.com/people/March_Liu/miniblog/446401835/）里，蘑菇叔（好吧，现在该叫牛柳叔了）和别人在争论一个问题。其实我对他们的争论没什么兴趣，但是有几个论点挺有意思的。
 面试题不应该拿回家做。面试题是即时抽查对方个人程序能力的一种测试，要是拿回家，就变成测试亲友团能力了。七大姑八大姨的儿子面试，知道你是个程序员，让帮忙做题，难道还能不做？我曾经也帮人做过面试题，不过做之前我都会和他们说。你可想好了，这些题目不算简单，我做没什么问题，没意外你应该能进去。但是这些题目比你能力超出太多，进去后你能不能呆的住，有什么后果自行负责。对方多半是一脸不在乎的说，先进去慢慢学吧。我知道结果的两个，一个进去三天，连试用期都没过就被开出来了。因为是试用期关系，企业还不管赔。另一个则是苦熬三个月后还是扫地出门。目前我的结论是，允许把试题带回家做的企业是不靠谱的企业，允许做题时上网也一样。做面试题时会去想作弊的技术应该转行去做销售。当年吴士宏的《逆风飞扬》里面说，主管问她会不会一个技术，她不会，但是说会，回家后连夜学起来。这种行为在销售上也许是值得称赞的行为，本人也够努力。但是作为技术岗位，这种思路是行不通的，而且非常不负责。技术是依靠长期积累的，指望在几天内突飞猛进根本不现实。相反，你闯祸的可能远比做好的可能大。做一名技术，就得踏踏实实把事情做妥当了。
 HR不应该管工资。蘑菇叔的另一个观点是，HR不应该管工资。实际上，我一直不知道HR该做什么。当年我做招聘的时候，基本就是两种思路。一种是来一个人，HR告诉我大概要多少薪水，我谈下来直接向老总汇报。另一个是我面试能力，然后告诉HR这人我们大概给多少薪水，最高给多少。虽然名义上是HR主导的工资谈判，但实际上做出判断的一定是技术主管。因为除了技术主管，没有人（包括HR）清楚这个人能力能够为企业带来多少价值。HR评估价格的方法通常都是对比法，用证书和资历去做加减。可是证书和资历一方面容易造假，另一方面是否和企业技术合拍不得而知。
 性价比太高的人都是不稳定因素。这句基本就是“价格围绕价值波动”的另一个表述形式。一旦一个人，你觉得他的性价比非常高，基本是几种可能。一种是他的能力非常特殊，只有少数企业需要。一旦从你公司离职，对他非常不利。而对于你们企业来说，找其他人非常不利。因此你才会觉得他的性价比特别高。第二种是因为这个人在其他方面有所求，例如商业间谍，或者需要从你公司里面积累一些必要的技术和资历。最后一种是因为——这个人快离职了。如果你发现一个人性价比特别高，请务必查一下为什么。是否是特殊能力很好判断，是否需要积累一些必要的能力和资历也不难分析。如果不是，请务必先考虑商业间谍的问题，再考虑你是不是应该要加薪了。
  从第二个论点，我回想起以前和现在碰到的HR，发现他们的职能基本都不是很明确。或者说，多半明确的职能越界了。检查考勤，计算工资奖惩，招聘，安排培训，处理人事材料，负责离职事宜，这是HR的基本几个职务。我碰到的多数情况下，检查考勤和计算工资都由行政代劳，奖惩是老板拍脑袋的。招聘，处理人事材料和负责离职事宜倒是行政负责，但是基本没有企业安排培训。相反，人事的最大用途就是和员工谈判工资和福利，能压多少压多少。甚至很多人事的工资和他的谈判能力成正比。
这招对初级的岗位用用还可以，但是对于中级以上的技术人员，是绝对不能用的。应当说，凡是五年以上的程序员，应当禁止HR砍价，直接让老总去谈。为什么？具体看上面的论点三，招一个靠谱的人难阿。往往一个靠谱的职工，仅招聘成本就以千计。以一年期合同来说，为了每月500的价钱（一年大概差6000）谈跑了一个程序员，不仅招聘成本都打了水漂，而且再要招人还会更加困难（一方面是很难碰到，另一方面很多老程序员都互相认识）。这种HR不被问责才有鬼了。</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 31, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1818/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1818/">阿宅程序员的故事——引子</a>
    </h1>
</header>


        
          <p>阿宅程序员不姓阿名宅，也不姓程名序员。所谓阿宅是死窝在家里不肯出来的意思，原因就是——因为他是个程序员。据说这种变态职业的最高水准，可以在一个密闭房间内盯着一个阴极摄像管长达数个月之久，中间除了有人送饭和洗澡上厕所外都不间断，哪怕睡觉都是往后一躺拉上被子就睡的。理所当然，这种职业的人多数会成为阿宅，然后成为去死去死团成员，再光荣的晋级大龄男青年，初级怪蜀熟，中级怪蜀熟，乃至成为最终职业——怪蜀熟之王。
阿宅已经想不起来自己是为什么才会变成程序员的，据说阿宅小时候成绩还不错，老师曾经给过评语，学好数理化，走遍天下都不怕。阿宅是数理化班上成绩最好的一个，没想到连房门都走不出去。这点上倒不如班上几个只会英语的女生，索性学孔子周游列国不回来了。据说搞计算机的，有一半人是英语很好，另一半人则是数学或物理很好。英语好可能是因为计算机资料中有大量的英语，看懂资料就会用计算机。不过阿宅来看，到底是英语好使得计算机水准好，还是因为要学计算机才学好了英语，还真是一个困难的问题。因为据说周游列国的诸位美女，往往连“gtalk为什么不能传输文件”这种简单问题都不理解。但是说要学计算机才学好了英语，阿宅至今和人说的最复杂的一句英语就是&rdquo;hello, world“，对方MM十分钟没有回话——因为在用MSN——然后慢悠悠的回了一句”？“，再然后，阿宅就不知道该说什么了。
阿宅经常被人夸——当然也经常被人骂。人家说他计算机“好”，于是他就想，好在哪里呢？问问别人，得到的回答往往是。你会装电脑啊。装什么电脑？组装硬件还是装系统？没区别，反正都很厉害。于是阿宅无语，大概猜到，其实自己和世界上其他的程序员差不多。只不过周围的人没见过真正的野生程序员，才说他厉害。至于周围人见到的程序员是什么东西，经过阿宅的观测，看起来像是研究生的升级版吧。
据他的一个当老师的师兄说，目前研究生的水准大概和人肉代码执行器差不多，或者可以简称人肉CPU。你可以用通用语言——在中国大多数都是用中文——把你要做的事情详述出来，包括每个步骤。名为研究生的CPU就会按照你的预订逻辑把你的描述执行完。如果出现了异常而你没有捕获，往往就会留下异常现场。看师兄说话时的脸色，阿宅不大想猜测那是一个什么样的现场，大概和自己写程序忘记捕获异常被老板抓到时候差不多吧。
阿宅的很多朋友都发了大财，很多人的智商都不如阿宅，工作程度也不如阿宅。阿宅也想不明白这是为什么。如果说自己的收入比不上几位组长，那是一点都没什么好奇怪的。但是有几位按老师评语，除了打架什么都不会的同学，居然能在不声不响间赚到阿宅从宋朝开始工作才能积攒的财富。阿宅总觉得哪里出了问题，到底是老师的问题，社会的问题，还是自己的问题，他是真弄不明白了。不管怎样，死宅的日子每天有吃有睡，还有自己感兴趣的技术可以研究，阿宅对拼死赚钱也没什么太大兴趣——虽说和别人说这话的时候，人家都一脸嫌恶的说，你那工作量居然还好意思说这种话。
阿宅的工作很简单，老板经常会有些想法。有想法很正常，人类要是没了想法，世界指不定会变成怎么样呢——反正阿宅肯定会失业就是了。阿宅的国家某位伟人说过，黑猫白猫，抓住老鼠就是好猫。阿宅自己的理解是，黑盒白盒，抓出bug就是好方法。老板的理解则是，好想法坏想法，不做一做就是没想法。做一做总要有人来执行吧？于是阿宅就和组长一起被叫过去，聆听老板的一些想法和创意，并且设法实现出来，这就是所谓程序员的职业。据说在日本的神话中，貘是一种食梦的怪兽。阿宅觉得自己干的事情和他差不多，都是把别人的梦想嚼吧嚼吧吞下去，然后拉出来一坨完全不一样的东西，再卖给另外的人。大部分的情况下，吃下去的东西，拉出来的东西，写出来的东西，我们都用同一个字称呼他们。
如此简单的工作，照理说应当是应者云集。可是却不是。照统计，中国的程序员数量就一直没怎么涨过，一直维持在150-200W上下——大概和全国高校计算机系每年毕业的学生持平吧——这还得算上研究生升级版的所谓人肉计算执行器。阿宅很理解为什么高校毕业生就业困难，要是每个计算机系应届毕业生都要有份对口的工作，全国程序员就得每年失业一次，所以程序员特别怕刚毕业的大学生。其实别看程序员怕刚毕业的大学生，大学生还怕程序员呢。每年的程序员面试题目在应届生看来如鬼途一般可畏——这里可没有好好教授先生的开根号乘10的慈悲秘技。如果运气不好，一同前来测试的同年们水准特别高，要么就是及格仍旧丢了工作，要么就是保住了工作保不住工资。最杯具的是和刚刚面了管理职位的同学比比，无论工资职位还是发展，没一个可以相提并论的。多少年轻人立刻多年梦碎，拍拍屁股转职成管理者。
我们下面的故事，就是这个死宅程序员的日常生活。注意，下面发生的事情并没有一个绝对的逻辑先后关系，也没有一个时间的跨度关系，你可以想像他们发生在多个平行时空中。如果你发现什么前面阿宅脑袋开了瓢后面却兴高采烈的去游泳之类的问题，请不要奇怪。他们可能发生在逻辑上的十年间，也可能游泳其实在开瓢之前。当然可能最大的是因为阿宅根本不会游泳，所以走在泳池旁被绊了一下导致脑袋开瓢&hellip;&hellip;</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 30, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1816/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1816/">结婚公告</a>
    </h1>
</header>


        
          <p>我结婚了。
我和她在facebook上认识，所以，首先感谢国家，感谢党。是你们封了facebook，把我培养成一个坚定的翻墙主义者。没办法，不翻墙，无老婆。
谢谢所有我认识的不认识的朋友，谢谢你们的支持。在我发推结婚的数小时内，总共有150+条rt祝福。我很开心，她也很开心，所以在签字结婚的时候，她只考虑了十多秒。另外友情提示，如果你们带女友去登记，最好一气呵成直接带去，然后在签字前再给她一次考虑的机会，不要提前预告。如果不给女孩子一个考虑的机会，好像在强迫人家。但是如果给了太多考虑的机会，她会持续失眠一周以上，反应迟钝，出现恐婚心理，甚至危及你的人身安全。从维护女性健康的角度，最好在求婚成功后就直接去登记，你好我好大家好。
最后，我会开一个小系列，讲述一下我每天的生活。名字大概就叫——阿宅程序员的故事。</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 27, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1813/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1813/">上海地铁的七宗罪</a>
    </h1>
</header>


        
          <p>上海地铁是我见过的最扯淡的地铁之一。之所以有之一，是因为还有北京地铁在后面排着。
 停车误差半个门很常见，最高误差了半截车厢，再倒车。停不准已经成了上海地铁的特色之一，尤其是二号线，停不准是正常的，准了您就知道，今天是老师傅上班。
 上下车关门不等人。四号线上下班高峰经常在世纪大道站迟到，然后掌车要按照时刻表赶回来。但是世纪大道站又是上下客流非常大的一站，经常是10-20秒不够上下的。结果掌车在无法确认人已经全部上车的情况下就开始关门，后来的人要么强行顶住门，要么等了一辆车被车门关在外面，车里面还是空的。
 地铁没厕所。我不知道是不是中国的惯例，反正我在中国没看到几辆地铁有厕所的。上海地铁金沙江路，金科路我知道站外有厕所，世纪大道站内有厕所。其他站好像基本没看到，有几个站我专门问过，没有。
 信号烂到渣。闵行附近有个信号盲区，上海火车站到宝山路有个信号盲区，这两个已经是出名的连信号都没有的地方了，不过这毕竟是地面，覆盖不全是移动问题。可是二号线世纪大道站一下光有模拟信号没有数字信号，只能收短信不能上网，外加部分上来的地方连电话都会断线，很明显是泄漏电缆出了问题。二号线延伸段已经竣工一年多了，这种小问题都迟迟不解决。这还不说，四号线信号时好时坏，每天想用飞信给朋友发个消息纯属摸彩。
 下雨天地铁内发霉的味道重到一塌糊涂。不知道地铁内空气循环系统怎么设计的，一到梅雨天就有一股发霉的气味，让人喘不过气来。就这种空气系统，多少安检都属摆设，万一有人往进气口放一颗毒气弹，出的事故比地铁内爆炸轻不了多少。
 上地面的出口安排不科学。金科路站靠近金科路祖冲之路的出口，连接了一条双向的人行道，最高可容三人并排。但是几乎所有人都是向十字路口方向走，导致单向人流满载。平时上下班高峰还有人在这么拥挤的地方摆摊无人过问，也不知道城管这会到哪里去了。就不说这种中国特色问题，单是下雨天无人摆摊的时候，由于打伞，因此地铁出口入口严重滞留。自从施工因素导致一面栏杆被拆除后，很多人就找到了出路。一旦又遇到下雨或者摆摊导致拥堵，就从非机动车专用道上走到入口附近，翻栏杆进入地铁口。很多人还互相问，今天要不要翻墙？
 安检纯属扯淡。没有强制安检能力，没有规范的操作方法，没有明确统一的培训和标志。你不知道在那里搞安检的人是谁，也不知道什么要检，什么没事。每回被检查都像被刁难，为什么我这个要检，前面那个看起来差不多的就不检。更不谈安检纯属扯淡，有此vvoody拿着一盒德州扑克的筹码进去，标准的赌博工具。安检一点异议都没有，过去后我们从后面看了，外观上看起来像六管炸药。安检人员真的有良好的培训，能够分辨什么是危险物品么？
  上述这些都是扯淡中的扯淡，相比起来，倒是有些不那么扯淡的事情，我们也列一下。
 经常晚点停开。这个不完全是上海地铁的过错，毕竟上海地铁已经是世界上人流量最高的地铁之一了，算里程好像也是世界第一，因为意外而晚点实属难免。但是上海地铁缺乏一些有效手段引导人流规避。有一次在世纪大道听到广播说哪里哪里地铁严重延误，我觉得这已经是个不小的进步。个人希望能够通过网页，围脖等方式将运作过程中的事故展现出来，让乘客避免死胡同问题。
 高人流量交错没有进行多站交互分流，例如香港地铁的中环和金钟。在香港地铁设计中，但凡大人流量交错的换乘都是多站分流的。说的更通俗点，就是两条线有两个交点。大家可以想想，要是人民广场站分两站交错，人流何至于如此拥堵。上海地铁设计的看似阡陌交错，但是在最密集的几个站人流压力极大，浪费大量空间做人流疏导，而且要走很远。而最稀疏的几个站又人流不足。不过回想上个世纪上海地铁设计的时候，那时候打死我也想不到地铁会发展到现在这个样子，而且是在十年内。所以设计失误有其历史原因，但历史问题造成的后果还需要我们正视。
 拥挤，拥挤，还是TMD拥挤。这个也得部分的归功于上海的发展。目前上海地铁的票价比北京高出不知多少，还是非常拥挤。北京拥有全国最拥堵的地面交通系统和地铁票价，可见其地铁拥挤程度。这是典型的政府好心办坏事的结果，其中最典型就是广州市政府免除地铁票价导致的地铁功能失效。希望上海地铁能推行“峰-谷”折扣票价，推高峰口票价，降低平时票价，充分利用平时用不到的运能。
  </p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 25, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1811/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1811/">使用uwsgi搭建python应用</a>
    </h1>
</header>


        
          <p>wsgi是python的一个标准web服务接口，具体去google pep文档，不解释。在李木头的忽悠下，贝壳试用了一下uwsgi搭建python服务器，感觉还不错。 首先，贝壳将uwsgi打包成deb包，因为这东西和python基本没什么关系，就是一个标准的系统守护服务程序。其中贝壳测试了一下，uwsgi编译的时候是依赖版本的。所以请教了一下thomas，打了uwsgi2.6和uwsgi2.7两个包。没办法，mercurial对python2.7的支持不是很好，每次都出问题。具体的可以加贝壳的repos: https://home.shell909090.org/debian/ testing，然后通过一下贝壳的key，就可以直接安装uwsgi2.6了。当然，不通过key也可以，只是每次安装升级都有警告。 贝壳写了一个很简单的init.d，使用&ndash;vhost来启动uwsgi为服务模式。这种模式的好处是，uwsgi的具体执行的应用都是由nginx来确定的，因此所有的映射只需要修改nginx配置就好。uwsgi参数很多，包括可以指定内存限制，工作进程/线程，定时重启工作进程，多解释器等等。是一个高效的，功能强大的服务器。具体可以自己参考调整。最好的的地方是，uwsgi还支持virtualenv，你可以给不同的应用建立不同的工作环境，从而在环境中使用指定的包，而不是系统包。 下面是一个nginx配置的例子。 location /ticket { include uwsgi_params; uwsgi_param UWSGI_PYHOME /usr; uwsgi_param UWSGI_CHDIR /home/shell/workspace/hg/thost; uwsgi_param UWSGI_SCRIPT main; uwsgi_pass unix:/var/run/uwsgi.socket; } location /mlocate { include uwsgi_params; uwsgi_param UWSGI_PYHOME /usr; uwsgi_param UWSGI_CHDIR /home/shell/workspace/hg/thost; uwsgi_param UWSGI_SCRIPT main; uwsgi_pass unix:/var/run/uwsgi.socket; } location /hg { include uwsgi_params; uwsgi_param UWSGI_PYHOME /usr; uwsgi_param UWSGI_CHDIR /home/shell/workspace/hg; uwsgi_param UWSGI_SCRIPT hgweb; uwsgi_param SCRIPT_NAME /; uwsgi_param SERVER_NAME hgweb; uwsgi_pass unix:/var/run/uwsgi.socket; } 这里面设定了三个应用。由于贝壳不需要virtualenv，所以PYHOME设定了/usr。第一二个应用的基础路径在/home/shell/workspace/hg/thost，脚本叫做main.py。第三个应用的基础路径在/home/shell/workspace/hg，脚本叫做hgweb.py。需要注意的是，uwsgi会以模块方式导入这些脚本，然后使用其中的application对象作为wsgi处理函数。所以不要把application对象赋值放在if __name__ == &lsquo;__main__&lsquo;里面，那没用的。第三个应用指定了SCRIPT_NAME和SERVER_NAME，是因为hg的wsgi模块没有SCRIPT_NAME不工作，而这个应用和前两个不在一起，所以如果不指定SERVER_NAME会导致覆盖冲突。 这种部署模式的好处是，我可以使用一个宿主来管理所有的应用，而不必每个应用启动一个宿主，省去了多个宿主管理的麻烦。而多进程，压力分布等等问题都被uwsgi的配置系统搞定了。于是应用程序宿主做到了彻底的免管理，即装即用，只用调节性能匹配即可。具体程序配置下放到nginx中，要修改映射关系只用管理一个位置。</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 24, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1809/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1809/">debian中文初学者引导——中文化</a>
    </h1>
</header>


        
          <p>讲了半天废话，都是在介绍你应该用什么应该用什么，基本没讲到中文用户最关心的一个问题，中文化和输入法。
其实没讲是有原因的，因为debian的中文实在太简单了。在你安装的时候选择中国地区和中文，装出来应该就是中文的。如果不是，或者你安装的时候忘记选择了，可以先运行dpkg-reconfigure locales，出现一个很长的语言列表。其中选择中文的几项，常见的有zh_CN GBK(不推荐18030，多出来的字很少用到，生成时间极长)，zh_CN UTF-8，zh_HK UTF-8(香港地区编码，不用可以不选)，zh_TW BIG5，zh_TW UTF-8(后两者为台湾地区编码，不用可以不选)。选择好后，确定，推荐zh_CN UTF-8为默认编码。然后就是漫长的生成，完事。试试看重启后你的env | grep LANG有没有变成zh_CN.UTF-8？过去就对了，没有的话，手工修改/etc/default/locale加入也一样。其实dpkg-reconfigure locales就是修改了/etc/default/locale和/etc/locale.gen，然后locale-gen一下。
不过这不代表你能正确的使用中文，只是你的满屏看不懂的东西变成了一堆方块而已。因为，你还没装字体。当linux不支持该种语言的时候，出现的是满屏的乱码。如果支持了但是没有字体，则是一个个方块。下面是我常用的一堆字体，保证不含windows，大家可以选择自己喜欢的用。ttf-arphic-bkai00mp，ttf-arphic-bsmi00lp，ttf-arphic-gbsn00lp，ttf-arphic-gkai00mp，ttf-arphic-ukai，ttf-arphic-uming，ttf-wqy-zenhei。其中最后一个就是赫赫有名的文泉驿正黑。安装方法都很简单，aptitude install就好。如果你还不满足，非要自己安装字体。那就在/usr/share/fonts下面新建个目录，把你的字体复制进去（符号链接也可以），然后在这个目录中运行mkfontscale，mkfontdir。全局运行fc-cache。
OK，中文支持快走到最后一步了。你现在应该可以看到满屏的中文，可是，可是——你还什么都输入不进去。恩，没装输入法吧。debian的特点是什么东西都是自己来装，而不是系统帮你装好。所以，你需要自己装输入法。简体中文而言，比较流行的有三种，fcitx（传说中的小企鹅），scim，ibus。下面就要根据你的具体配置选择了。ibus是我用过的比较好的输入法，但是相对比较费cpu，在低端机器（例如netbook）上老是丢字，scim对这种情况略好些。如果你安装了一个以上，可能你还需要im-switch来切换输入法。这个软件会调整/etc/alternatives/xinput-zh_CN的链接指向，这是debian的alternative系统，细节不说。
另外说一句额外的提示，做完上面的步骤，你应当可以阅读和输入中文，但是你看到的软件还是满眼的鸟语，对不对？这是因为软件的语言在软件书写的时候就确定了，他不会随着你的内容改变而改变。但是这并不是说常见软件没有中文版。例如你安装一下iceweasel-l10n-zh-cn这个包，再跑iceweasel (firefox)看看？</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 20, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1806/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1806/">debian中文初学者引导——上网</a>
    </h1>
</header>


        
          <p>上网是linux系统的一大强项，除了那个变态的QQ外。
通常而言，上网指的是网络三大基础应用，浏览器，IM工具，电子邮件。最后一个我们介绍过了，那么我们就集中介绍一下linux的两大杀手级浏览器。firefox和chrome。
firefox是debian内置的，不过用的是开放分支，iceweasel。其实主要就是改个名字换个图标做做兼容性测试打几个下游补丁什么的，内核还是一样的，版本号和firefox都保持一致。目前testing下的firefox还是3，不过估计很快就会升到4。firefox下有很多插件，你可以挑选部分来安装，改善浏览器特性。记得linux是一个多用户系统么？对了，你在firefox下安装的插件(addons)都是针对个人起效的。所以，你老婆安装了一堆插件，对你不会构成任何干扰。如果你打算全局安装，可以用apt-get来安装部分插件。
用firefox的话，你可能疑惑flash插件怎么装。系统会给你默认安装拉，不过那个非常不好用。你需要用non-free版本的flashplugin-nonfree，直接从仓库中可以下到。注意这个组件是x86 only的，如果你用64好像要自己装ia32来做模拟，否则无法生效。如果连这个都说版本太老，就去adobe的网站上弄个最新linux版本回来，for debian或者for ubuntu都可以，自己装。
chrome的安装使用就比firefox简单很多了，直接去这里( http://www.google.com/chrome/ )下载合适的包，安装后，你的系统/etc/apt/sources.list.d/位置下会多出一个google-chrome.list，每次update的时候会检查google的仓库，跟随升级。这点chrome做的非常无缝，你基本没有感觉。
另外就是IM软件的选用。国内装机量最大的是QQ，不过鉴于我对企鹅这厮没什么好感，我强烈不推荐你用QQ。整个开源社区做QQ兼容做了不下三次(QQ for pidgin, luma, eva)，还都是在未公布资料的黑盒情况下做的。每次都被腾讯改协议给封掉。自己出了个linuxqq，做的烂不说，还多年不升级，也不管客户反应。微软就算讨厌开源，也好歹没有封杀开源办公软件兼容他的文件格式。既然这厮不打算支持开源，那么开源也不打算支持他。你非要用，可以用webqq，或者很痛苦的用linuxqq。有不支持的功能，请打电话给腾讯吧。
linux下用的比较多的IM还是gtalk,msn和skype三种。不得不感慨大中华局域网的威力，国内和国外的东西都不一样的。国外好用的东西就是进不来，国内的山寨货大家玩的不亦乐乎。首先是最多的gtalk，这个东西什么都不支持。没有定制表情，不一定能传输文件，没有远程协作。那为什么列为第一推荐IM呢？因为这个东西就是为了随时通讯而生的。支持gmail内置客户端，可以在无客户端的情况下用网页使用（这也就是为什么不一定能传输文件的原因）。支持几乎所有的第三方客户端，支持手机，强安全通讯。（腾讯的另外一个问题是，在同一个网段内的人可能可以获得你的聊天记录）并且，这是我所知唯一能同时在多个地点登录的IM工具。你可以在地铁上通过手机聊天，到了公司后直接登录，不必担心手机和电脑互相提下线的问题。电脑关机，手机持续在线。
MSN是老牌IM，不过微软逐步淡化了这个系统。某个版本后居然需要安装100M+的客户端，我就没在windows下继续使用。但是linux下的pidgin可以同时支持gtalk(协议是jabber)和MSN，开一个软件可同时登录多个账户，也不需要一个超级庞大不知道干了点啥的客户端，非常方便。skype是国外知名的IM工具，特点是音频支持能力，说白了基本当电话来用的，在国内发行的版本有记录聊天记录的问题。linux下要使用skype需要独立下载软件，pidgin-skype这个东西居然要skype在运行才能使用，这不是扯淡么？贝壳的repos里面有skype的安装包，你也可以去下载官网的安装包，应该没什么问题。不过最近这厮被微软收购了，也不知道将来命运如何。</p>

          

        

    </article>
    
    <article>

        
        

<header>
    <p class="meta">May 19, 2011
         - 1 minute read 
         - <a href="//blog.shell909090.org/blog/archives/1805/#disqus_thread">Comments</a>

        
    </p>
    <h1 class="entry-title">
        <a href="//blog.shell909090.org/blog/archives/1805/">debian中文初学者引导——办公</a>
    </h1>
</header>


        
          <p>作为一台中国的电脑，最重要的三大功能就是上网，办公和游戏。当然，linux下你需要暂缓考虑游戏。不过最基础的，办公功能应当还得有。
首先要说明的一个问题是，linux下对微软的office系列的支持并不好。这当然不是linux的过错——你让微软打开odp或者tex文件看看？不过鉴于现在office满天飞的现状，你总要支持doc系列文件，否则办公就直接出局。这部分的是为什么只有程序员才用linux的原因——在IT公司里，用office的是异类。我们公司里，老大带头用openoffice。对于没有这种幸运的人，我的建议是安装libreoffice这个包，这个的前身是sun的openoffice，不过开源社区做了一个完全自由的分支。后来sun杯具了，debian下的头号办公系统就是他了。大部分的文件打开，使用和保存都是没问题的。如果光论正常文档，文字的编辑，段落编排，libreoffice的功能都不会和office差太多。不过高阶功能开始，libreoffice就会变的很不顺手。这是当然的，office用户众多，发掘出的用法和资料不知凡几。libreoffice用户不但少，而且多数还是老外。
当然，作为一个linux用户，通常都抱有一个观点。平文本(plain text)比复杂的办公软件好用多了。大多数情况下，这都是对的。当你写毕业论文的时候，内容比你排版技巧更加重要。当你给上司做一份汇报材料的时候，内容比排版技巧更加重要。平文本的简单编排，libreoffice还是可以比较好的兼容掉office的。如果这些工作上，公司的要求是排版技巧更加重要，那你可以考虑换一个公司。有少部分情况下，排版技巧会比内容更加重要。例如客户PPT展示，公司报纸美编，这些工作不要使用办公软件来完成，你应当做的是寻找合适的软件来做到完美，而不是用一个不专业的软件在那里折腾，然后抱怨不好用。记得我们开始说的么？要懒，而且有创造力。
除了office系列，另一个办公上常用的东西是pdf文档。debian下可以用的选择就比较多了，闭源的有foxit reader，开源的有epdfview，mupdf，xpdf，evince等等一堆。个人比较推荐foxit reader，基本可以解决大部分情况下会让你比较烦恼的中文看不见问题。如果要生成和处理pdf，选项更多。linux下大部分办公软件都可以直接输出PDF。即使不可以，也可以像windows那样，装一个虚拟的打印机，然后输出pdf来。
提到PDF不能不提的就是打印，这点上debian做的并不太好，当然，也不算太差。在windows下的行为通常是，连接打印机，安装驱动，在打印机设备中出现新设备，配置打印机，并标记为默认，然后就可以工作了。在debian下需要先安装cups包，启动服务。再安装合适的驱动，例如hplip-cups。连接打印机，然后用浏览器访问http://localhost:631/来访问管理界面。新建打印机，再选择合适的配置。对于不大熟悉的人，通常会在驱动选择和管理界面上花费不少功夫。这里（ http://zh.wikipedia.org/wiki/CUPS ）介绍了常见系统下的管理工具，能减轻一些负担。不过实话说，直接用web管理并不繁琐。
办公中还有一个比较重要的功能就是收发邮件。作为初学者，我建议你用thunderbird开始，debian下需要安装icedove这个包，这是thunderbird的开放分支。基本简单配置后就可以直接收发邮件了，没什么值得好讲的。不过既然你选择了linux，我建议你好好学习一下gnupg和签名技术。你要知道，通常的电子邮件安全性和明信片背后写的祝福大致相当，以这个作为办公基础实在是一件相当危险的事情。</p>

          

        

    </article>
    
    
    




<div class="pagination">

    
        
        
        
        <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    
    
        <a href="/page/40/" aria-label="Previous" class="label-pagination"><i class="fa fa-angle-left fa-lg"></i></a>
    

    
        <a href="/" class="label-pagination">1</a>
    
        <a href="/page/2/" class="label-pagination">2</a>
    
        <a href="/page/3/" class="label-pagination">3</a>
    
        <a href="/page/4/" class="label-pagination">4</a>
    
        <a href="/page/5/" class="label-pagination">5</a>
    
        <a href="/page/6/" class="label-pagination">6</a>
    
        <a href="/page/7/" class="label-pagination">7</a>
    
        <a href="/page/8/" class="label-pagination">8</a>
    
        <a href="/page/9/" class="label-pagination">9</a>
    
        <a href="/page/10/" class="label-pagination">10</a>
    
        <a href="/page/11/" class="label-pagination">11</a>
    
        <a href="/page/12/" class="label-pagination">12</a>
    
        <a href="/page/13/" class="label-pagination">13</a>
    
        <a href="/page/14/" class="label-pagination">14</a>
    
        <a href="/page/15/" class="label-pagination">15</a>
    
        <a href="/page/16/" class="label-pagination">16</a>
    
        <a href="/page/17/" class="label-pagination">17</a>
    
        <a href="/page/18/" class="label-pagination">18</a>
    
        <a href="/page/19/" class="label-pagination">19</a>
    
        <a href="/page/20/" class="label-pagination">20</a>
    
        <a href="/page/21/" class="label-pagination">21</a>
    
        <a href="/page/22/" class="label-pagination">22</a>
    
        <a href="/page/23/" class="label-pagination">23</a>
    
        <a href="/page/24/" class="label-pagination">24</a>
    
        <a href="/page/25/" class="label-pagination">25</a>
    
        <a href="/page/26/" class="label-pagination">26</a>
    
        <a href="/page/27/" class="label-pagination">27</a>
    
        <a href="/page/28/" class="label-pagination">28</a>
    
        <a href="/page/29/" class="label-pagination">29</a>
    
        <a href="/page/30/" class="label-pagination">30</a>
    
        <a href="/page/31/" class="label-pagination">31</a>
    
        <a href="/page/32/" class="label-pagination">32</a>
    
        <a href="/page/33/" class="label-pagination">33</a>
    
        <a href="/page/34/" class="label-pagination">34</a>
    
        <a href="/page/35/" class="label-pagination">35</a>
    
        <a href="/page/36/" class="label-pagination">36</a>
    
        <a href="/page/37/" class="label-pagination">37</a>
    
        <a href="/page/38/" class="label-pagination">38</a>
    
        <a href="/page/39/" class="label-pagination">39</a>
    
        <a href="/page/40/" class="label-pagination">40</a>
    
        <a href="/page/41/" class="label-pagination">41</a>
    
        <a href="/page/42/" class="label-pagination">42</a>
    
        <a href="/page/43/" class="label-pagination">43</a>
    
        <a href="/page/44/" class="label-pagination">44</a>
    
        <a href="/page/45/" class="label-pagination">45</a>
    
        <a href="/page/46/" class="label-pagination">46</a>
    
        <a href="/page/47/" class="label-pagination">47</a>
    
        <a href="/page/48/" class="label-pagination">48</a>
    
        <a href="/page/49/" class="label-pagination">49</a>
    
        <a href="/page/50/" class="label-pagination">50</a>
    
        <a href="/page/51/" class="label-pagination">51</a>
    
        <a href="/page/52/" class="label-pagination">52</a>
    
        <a href="/page/53/" class="label-pagination">53</a>
    
        <a href="/page/54/" class="label-pagination">54</a>
    
        <a href="/page/55/" class="label-pagination">55</a>
    
        <a href="/page/56/" class="label-pagination">56</a>
    
        <a href="/page/57/" class="label-pagination">57</a>
    
        <a href="/page/58/" class="label-pagination">58</a>
    
        <a href="/page/59/" class="label-pagination">59</a>
    
        <a href="/page/60/" class="label-pagination">60</a>
    
        <a href="/page/61/" class="label-pagination">61</a>
    
        <a href="/page/62/" class="label-pagination">62</a>
    
        <a href="/page/63/" class="label-pagination">63</a>
    
        <a href="/page/64/" class="label-pagination">64</a>
    
        <a href="/page/65/" class="label-pagination">65</a>
    
        <a href="/page/66/" class="label-pagination">66</a>
    
        <a href="/page/67/" class="label-pagination">67</a>
    
        <a href="/page/68/" class="label-pagination">68</a>
    
        <a href="/page/69/" class="label-pagination">69</a>
    
        <a href="/page/70/" class="label-pagination">70</a>
    
        <a href="/page/71/" class="label-pagination">71</a>
    
        <a href="/page/72/" class="label-pagination">72</a>
    
        <a href="/page/73/" class="label-pagination">73</a>
    
        <a href="/page/74/" class="label-pagination">74</a>
    
        <a href="/page/75/" class="label-pagination">75</a>
    
        <a href="/page/76/" class="label-pagination">76</a>
    
        <a href="/page/77/" class="label-pagination">77</a>
    
        <a href="/page/78/" class="label-pagination">78</a>
    
        <a href="/page/79/" class="label-pagination">79</a>
    
        <a href="/page/80/" class="label-pagination">80</a>
    
        <a href="/page/81/" class="label-pagination">81</a>
    
        <a href="/page/82/" class="label-pagination">82</a>
    
        <a href="/page/83/" class="label-pagination">83</a>
    
        <a href="/page/84/" class="label-pagination">84</a>
    
        <a href="/page/85/" class="label-pagination">85</a>
    
        <a href="/page/86/" class="label-pagination">86</a>
    
        <a href="/page/87/" class="label-pagination">87</a>
    
        <a href="/page/88/" class="label-pagination">88</a>
    
        <a href="/page/89/" class="label-pagination">89</a>
    
        <a href="/page/90/" class="label-pagination">90</a>
    
        <a href="/page/91/" class="label-pagination">91</a>
    
        <a href="/page/92/" class="label-pagination">92</a>
    
        <a href="/page/93/" class="label-pagination">93</a>
    
        <a href="/page/94/" class="label-pagination">94</a>
    

    
    
        <a href="/page/42/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/page/94/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  

  </div>

  

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      
      
      
      
       
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
            <li class="post">
              <a href="/blog/archives/2865/">恒春潜水记录</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2864/">递归有关的几个小问题</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2863/">openssl证书相关</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2862/">openssl基本密码学操作</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2861/">密码学基本原理</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2860/">similan船宿</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2859/">在云存储上叠加加密文件系统</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2858/">京都游记</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2857/">Boracay潜水攻略</a>
            </li>
          
            <li class="post">
              <a href="/blog/archives/2856/">golang安装和编译环境搭建</a>
            </li>
          
        </ul>
      </section>
    
  

</aside>
    
 </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2018 Shell Xu - <a href="//blog.shell909090.org/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>


</body>
</html>
   
